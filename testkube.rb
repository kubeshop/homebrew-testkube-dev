# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Testkube < Formula
  desc "Testkube - your somewhat opinionated and friendly Kubernetes testing framework!"
  homepage "https://testkube.io"
  version "1.16.29-beta3"
  license "MIT"

  depends_on "helm"
  depends_on "kubectl"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/kubeshop/testkube/releases/download/v1.16.29-beta3/testkube_1.16.29-beta3_Darwin_arm64.tar.gz"
      sha256 "40c11a540feec748e86fab49c71857a5add7e33e96711402193a5288b80d3283"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kubeshop/testkube/releases/download/v1.16.29-beta3/testkube_1.16.29-beta3_Darwin_x86_64.tar.gz"
      sha256 "6d3f16cbecf484f6bf09ef89a09f66b38d8f731f5ade57d7009b50c84e03402f"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/kubeshop/testkube/releases/download/v1.16.29-beta3/testkube_1.16.29-beta3_Linux_arm64.tar.gz"
      sha256 "e6301e44e020723345b78790ff879db45c5b0713fff0fd979218bbd3dc8d9c07"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kubeshop/testkube/releases/download/v1.16.29-beta3/testkube_1.16.29-beta3_Linux_x86_64.tar.gz"
      sha256 "53b5d61701a5e27c81578350081b021035071baf2f3207802e78d056e43ae310"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
  end
end
